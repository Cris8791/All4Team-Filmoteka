!function(){function e(e){var t=e.map((function(e){var t=e.id,n=e.poster_path,o=e.title,r=e.genres,c=e.release_year,i=e.vote_average;return'<div>\n    <img id="'.concat(t,'" src="').concat(n,'" alt="movie poster" loading="lazy" />\n            <p class="movie-title">   ').concat(o,' </p>\n            <p class="movie-short-descr"> ').concat(r," | ").concat(c," | <span>").concat(i,"</span></p>\n        </div>")})).join("");document.querySelector(".movies-div").innerHTML=t}var t="filmoteka-watched",n="filmoteka-queue";function o(e,t){value="",t.map((function(e){value+=JSON.stringify(e)+"*"})),value=value.slice(0,value.length-1),localStorage.setItem(e,value)}function r(e){var t=[];try{value=localStorage.getItem(e)}catch(e){console.error(e)}return value?value.split("*").forEach((function(e){t.push(JSON.parse(e))})):value="",t}var c,i=[],u=[],d=[],a=!0;document.addEventListener("DOMContentLoaded",(function(){i=r(t),u=r(n),e(i)}));var l=document.querySelector(".watched-btn"),s=document.querySelector(".queue-btn");l.addEventListener("click",(function(){a=!0,e(i)})),s.addEventListener("click",(function(){a=!1,e(u)}));var v=document.getElementById("closeModalBtn2"),m=document.querySelector(".bckdrp");v.addEventListener("click",(function(){m.style.display="none"})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(m.style.display="none")})),m.addEventListener("click",(function(e){e.target===m&&(m.style.display="none")}));var p=document.querySelector(".wbtn2"),f=document.querySelector(".qbtn2");p.addEventListener("click",(function(){if(c.watched){c.watched=!1,p.innerHTML="Add to watched";var n=i.findIndex((function(e){return e.id===c.id}));i.splice(n,1)}else p.innerHTML="Remove from watched",c.watched=!0,i.push(c);o(t,i),e(a?i:u)})),f.addEventListener("click",(function(){if(c.queued){c.queued=!1,f.innerHTML="Add to queue";var t=u.findIndex((function(e){return e.id===c.id}));u.splice(t,1)}else f.innerHTML="Remove from queue",c.queued=!0,u.push(c);o(n,u),e(a?i:u)})),btnsDivElem2=document.querySelector(".movdiv2"),btnsDivElem2.addEventListener("click",(function(e){d=a?i:u;var t=e.target.attributes[0].value;pos=d.findIndex((function(e){return t-e.id==0}));var n=document.querySelector(".title-film"),o=document.querySelector(".movie-poster"),r=document.querySelector(".vote"),l=document.querySelector(".votes"),s=document.querySelector(".popularity"),v=document.querySelector(".title"),y=document.querySelector(".genres"),q=document.querySelector(".description-text");c=d[pos],n.innerHTML=c.title,o.src=c.poster_path,r.innerHTML=c.vote_average,l.innerHTML=" / "+c.vote_count,s.innerHTML=c.popularity,v.innerHTML=c.original_title,y.innerHTML=c.genres,q.innerHTML=c.overview,c.watched?p.innerHTML="Remove from watched":p.innerHTML="Add to watched";c.queued?f.innerHTML="Remove from queue":f.innerHTML="Add to queue";m.style.display="block"}))}();
//# sourceMappingURL=my_library.27ac6432.js.map
